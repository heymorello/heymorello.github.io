<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<title>Скачки и задачки</title>
<link href="https://fonts.googleapis.com/css2?family=Marmelad&display=swap" rel="stylesheet">
<style>
html, body {
  margin: 0;
  padding: 0;
  font-family: 'Marmelad', sans-serif;
  background: #b18155;
  overflow-y: auto;
}

/* ===== КНОПКИ ===== */
.top-buttons {
  position: fixed;
  top: 10px;
  left: 10px;
  z-index: 100;
  display: flex;
  gap: 12px;
}
.top-buttons button {
  width: 60px;
  height: 60px;
  font-size: 28px;
  border: none;
  border-radius: 50%;
  background: #fff;
  cursor: pointer;
}

/* ===== ЗАГОЛОВОК ===== */
.header {
  text-align: center;
  color: #fff;
  padding: 30px 0 5px;
}
.header h1 { font-size: clamp(32px, 6vw, 64px); margin: 0; }
.header h2 { font-size: 20px; font-weight: normal; margin-top: 8px; color: #fff; }

/* ===== БЛОК С ЛОШАДЬМИ ===== */
.race-container {
  width: 95%;
  height: 800px;
  max-width: 1200px;
  margin: 20px auto;
  border: 4px solid #fff;
  border-radius: 12px;
  overflow: auto;
  background: url("https://txtrs.ru/textures/sand/sand-6.jpg") repeat;
  background-size: 450px auto;
  position: relative;
}

.race-inner {
  position: relative;
  width: 3000px;
  height: 100%;
}

.sky {
  position: absolute;
  top: 0;
  width: 100%;
  height: 150px;
  background: #64a8be;
  z-index: 1;
}

.fence {
  position: absolute;
  top: -10px; /* поднят на 10px */
  width: 3000px;
  height: 230px;
  background: url("https://i.postimg.cc/cJJ3rDsb/Chat-GPT-Image-21-2025-07-52-16.png") repeat-x bottom;
  background-size: 800px auto;
  z-index: 2;
}

.lane {
  position: absolute;
  left: 0;
  width: 100%;
  height: 2px;
  background: rgba(255,255,255,0.9);
  z-index: 3;
}

.flags-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10; /* подсказки поверх лошадей */
  pointer-events: none;
}

.flag {
  position: absolute;
  width: 60px;
  height: auto;
  cursor: pointer;
  pointer-events: auto; /* чтобы клики работали */
}
.flag::after {
  content: attr(data-tip);
  position: absolute;
  top: -35px;
  left: 50%;
  transform: translateX(-50%);
  padding: 6px 8px;
  background: white;
  color: black;
  border-radius: 6px;
  font-size: 14px;
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s;
  white-space: nowrap;
}
.flag:hover::after { opacity: 1; }

.horse {
  position: absolute;
  cursor: pointer;
  z-index: 6;
  transition: left 3s ease-in-out;
}
.horse img {
  display: block;
  height: auto;
  user-select: none;
  -webkit-user-drag: none;
}
.horse::after {
  content: attr(data-points) " ⚡️ скорости";
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  padding: 6px 8px;
  background: white;
  color: black;
  border-radius: 6px;
  font-size: 14px;
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s;
  white-space: nowrap;
}
.horse:hover::after { opacity: 1; }

/* ===== ТАБЛИЦА ===== */
.results {
  width: 90%;
  max-width: 1200px;
  margin: 20px auto;
  background: rgba(255,255,255,0.9);
  padding: 20px;
  border-radius: 12px;
}
.results table { width: 100%; border-collapse: collapse; text-align: center; font-size: 16px; }
.results th, .results td { border: 1px solid #333; padding: 10px; }
.results td:nth-child(2) { text-align: justify; }

/* ===== АДАПТИВ ДЛЯ ТЕЛЕФОНА ===== */
@media (max-width: 600px) {
  /* Центрируем кнопки сверху */
  .top-buttons {
    left: 50%;
    transform: translateX(-50%);
    gap: 8px; /* уменьшаем расстояние между кнопками */
  }

  /* Легче заголовки и подзаголовки */
  .header h1 {
    font-weight: 500;
  }
  .header h2 {
    font-size: 16px;
    line-height: 1.4;
    padding: 0 12px; /* отступы слева и справа */
    box-sizing: border-box;
  }
}

</style>
</head>
<body>
<div class="top-buttons"><button>❓</button><button>⚡️</button></div>

<div class="header">
  <h1>Скачки и задачки</h1>
  <h2>Волшебник, добро пожаловать на скачки! <br>В этом семестре у нас гриффиндорское дерби. Веди своего скакуна к победе.</h2>
</div>

<div class="race-container">
  <div class="race-inner" id="race">
    <div class="sky"></div>
    <div class="fence"></div>
    <div class="flags-container" id="flags"></div>
  </div>
</div>

<div class="header"><h1>Рейтинг участников</h1></div>
<!-- ТАБЛИЦА -->
<div class="header">
  <h1>Рейтинг участников</h1>
</div>

<div class="results">
  <table>
    <tr>
      <th>Участники скачек</th>
      <th>Характеристики</th>
      <th>Спонсоры</th>
      <th>Скорость</th>
    </tr>

    <tr>
      <td class="participant">
        <img src="https://i.ibb.co/tTWMGsWW/Chat-GPT-Image-23-2025-17-23-57.png" alt="Корова Брунхильда">
        <div>Корова Брунхильда</div>
      </td>
      <td class="description">
        Участница прямком с фермы Весёлого Молочника из Альпийских гор. Даёт молоко для Гриффолада вкуснее Милки. 
        Вы можете брать неограниченное количество первокурсников на кураторство в течение семестра. Получайте +50 ⚡️ скорости за каждого первокурсника, который освоился на факультете.
      </td>
      <td></td>
      <td>0⚡️</td>
    </tr>

    <tr>
      <td class="participant">
        <img src="https://i.ibb.co/Jwp91sZ9/Chat-GPT-Image-23-2025-17-57-01.png" alt="Фестрал Невермор">
        <div>Фестрал Невермор</div>
      </td>
      <td class="description">
        Числится на балансе школы — главного конкурента Хогвартса Дамблдора в тик-токе. Каждый раз, когда вы пересекаете барьер, все ваши конкуренты получают –15 ⚡️ скорости.
      </td>
      <td></td>
      <td>0⚡️</td>
    </tr>

    <tr>
      <td class="participant">
        <img src="https://i.ibb.co/6PykhX7r/Chat-GPT-Image-23-2025-18-10-43.png" alt="Единорог Селестия">
        <div>Единорог Селестия</div>
      </td>
      <td class="description">
        Волшебное создание с искрящимся рогом. Каждая победа Селестии приносит факультету +20 ⚡️ скорости, если команда активно участвует в конкурсах.
      </td>
      <td></td>
      <td>0⚡️</td>
    </tr>

    <tr>
      <td class="participant">
        <img src="https://i.ibb.co/6YJxVjV1/Chat-GPT-Image-23-2025-18-15-12.png" alt="Пегас Аврора">
        <div>Пегас Аврора</div>
      </td>
      <td class="description">
        Быстрее ветра и красивее рассвета. Если ваша команда завершает задания раньше других — получаете +30 ⚡️ за каждый квест.
      </td>
      <td></td>
      <td>0⚡️</td>
    </tr>

    <tr>
      <td class="participant">
        <img src="https://i.ibb.co/QD9ZPZq/Chat-GPT-Image-23-2025-18-18-59.png" alt="Гиппогриф Артемис">
        <div>Гиппогриф Артемис</div>
      </td>
      <td class="description">
        Гордое существо, требующее уважения. Артемис даёт +25 ⚡️, если команда не пропустила ни одного еженедельного отчёта.
      </td>
      <td></td>
      <td>0⚡️</td>
    </tr>

    <tr>
      <td class="participant">
        <img src="https://i.ibb.co/59V5TFX/Chat-GPT-Image-23-2025-18-22-10.png" alt="Дракончик Сапфир">
        <div>Дракончик Сапфир</div>
      </td>
      <td class="description">
        Маленький, но огненный. Сапфир приносит +10 ⚡️ за каждое выполненное творческое задание факультета.
      </td>
      <td></td>
      <td>0⚡️</td>
    </tr>

    <tr>
      <td class="participant">
        <img src="https://i.ibb.co/YZgfdJg/Chat-GPT-Image-23-2025-18-25-31.png" alt="Феникс Игнис">
        <div>Феникс Игнис</div>
      </td>
      <td class="description">
        Возрождается из пепла и поднимает команду. Если факультет сдаёт работу после провала, Игнис добавляет +40 ⚡️.
      </td>
      <td></td>
      <td>0⚡️</td>
    </tr>

    <tr>
      <td class="participant">
        <img src="https://i.ibb.co/3FYVh7X/Chat-GPT-Image-23-2025-18-28-44.png" alt="Кентавр Хирон">
        <div>Кентавр Хирон</div>
      </td>
      <td class="description">
        Мудрый и рассудительный. Хирон даёт +15 ⚡️ скорости за каждую лекцию или образовательное мероприятие, проведённое факультетом.
      </td>
      <td></td>
      <td>0⚡️</td>
    </tr>

    <tr>
      <td class="participant">
        <img src="https://i.ibb.co/0msYq3S/Chat-GPT-Image-23-2025-18-32-01.png" alt="Грифон Леон">
        <div>Грифон Леон</div>
      </td>
      <td class="description">
        Символ силы и храбрости. Если команда выигрывает спортивное состязание, Леон даёт +35 ⚡️.
      </td>
      <td></td>
      <td>0⚡️</td>
    </tr>

    <tr>
      <td class="participant">
        <img src="https://i.ibb.co/1Jk2JmH/Chat-GPT-Image-23-2025-18-35-27.png" alt="Чёрный жеребец Нокс">
        <div>Чёрный жеребец Нокс</div>
      </td>
      <td class="description">
        Могущественный и таинственный. Приносит +50 ⚡️, если факультет становится лидером недели.
      </td>
      <td></td>
      <td>0⚡️</td>
    </tr>

  </table>
</div>

<style>
.results table {
  table-layout: fixed;
  width: 100%;
  border-collapse: collapse;
  text-align: center;
  font-size: 16px;
}
.results th, .results td {
  border: 1px solid #333;
  padding: 10px;
  vertical-align: top;
}

/* ширина колонок */
.results th:nth-child(1), .results td:nth-child(1) { width: 220px; }
.results th:nth-child(2), .results td:nth-child(2) { width: 45%; }
.results th:nth-child(3), .results td:nth-child(3) { width: 20%; }
.results th:nth-child(4), .results td:nth-child(4) { width: 100px; }

/* первая колонка с картинкой */
.participant {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  font-weight: bold;
}
.participant img {
  width: 150px;
  height: 150px;
  object-fit: cover;
  border-radius: 8px;
}

/* уменьшенный текст во второй колонке */
.description {
  font-size: 14px;
  line-height: 1.4;
  text-align: justify;
}
</style>

<script>
const horseImages = [
"https://i.ibb.co/tTWMGsWW/Chat-GPT-Image-23-2025-17-23-57.png",
"https://i.ibb.co/vxLQJcsj/20250920-1128-remix-01k5jwttgrervbg17xtjk37xgs.png",
"https://i.ibb.co/Ps8Mr98J/20250920-1357-remix-01k5k5cjmcf2ja5878w22hhxh7.png",
"https://i.ibb.co/VWvRft9V/Chat-GPT-Image-24-2025-07-39-30.png",
"https://i.ibb.co/m5LhSWN1/20250920-1529-remix-01k5kakeq0fsaskz0yr5q2mzby.png",
"https://i.postimg.cc/8CJ5fMtn/Chat-GPT-Image-24-2025-18-26-32.png",
"https://i.ibb.co/Jwp91sZ9/Chat-GPT-Image-23-2025-17-57-01.png",
"https://i.postimg.cc/gcQfjLnr/Chat-GPT-Image-24-2025-07-13-33.png",
"https://i.postimg.cc/gJbZYgmK/20250920-1029-remix-01k5jsen2he3ebb44mn75tbs8q.png",
"https://i.ibb.co/Pvn0PrtF/Chat-GPT-Image-24-2025-07-23-43.png",
];

const horseSizes = [300,270,270,300,270,300,300,270,300,300];
const horsePoints = [0,0,0,0,100,0,0,0,0,0]; 
const race = document.getElementById('race');
const flagsContainer = document.getElementById('flags');
const raise = 50; // смещение вверх

function placeHorses() {
  race.querySelectorAll('.horse, .lane').forEach(el => el.remove());
  flagsContainer.innerHTML = '';
  const trackStep = 120;
  const pixelsPerPoint = 5; 
  const totalPoints = 550;

  for (let i = 0; i < horsePoints.length; i++) {
    // линии дорожек
    const lane = document.createElement('div');
    lane.className = 'lane';
    lane.style.top = 270 - raise + i * trackStep + 'px';
    race.appendChild(lane);

    // внутри placeHorses()
for (let x = 100; x <= totalPoints; x += 100) {
  const flag = document.createElement('img');
  flag.src = "https://i.postimg.cc/DzM4VWsT/Flag-Animation-After-Effects-Course-Laurentiu-Lunic.gif";
  flag.className = 'flag';
  flag.style.left = (x * pixelsPerPoint) + 'px';
  flag.style.top = (210 - raise + i * trackStep) + 'px'; // на линии

  // создаём tooltip
  const tip = document.createElement('div');
  tip.className = 'flag-tip';
  if (x === 100) tip.textContent = '100 – крутой никнейм на эфире';
  if (x === 200) tip.textContent = '200 – апгрейд скакуна';
  if (x === 300) tip.textContent = '300 – ваша шапка в Башне';
  if (x === 400) tip.textContent = '400 – статус в чате Телеграма';
  if (x === 400) tip.textContent = '500 – именной гриффолад';

  tip.style.position = 'absolute';
  tip.style.left = flag.style.left;
  tip.style.top = (parseInt(flag.style.top) - 40) + 'px';
  tip.style.padding = '6px 8px';
  tip.style.background = 'white';
  tip.style.color = 'black';
  tip.style.borderRadius = '6px';
  tip.style.fontSize = '14px';
  tip.style.opacity = '0';
  tip.style.transition = 'opacity .2s';
  tip.style.whiteSpace = 'nowrap';
  tip.style.pointerEvents = 'none';
  tip.style.zIndex = '999'; // поверх всего

  flag.addEventListener('mouseenter', () => tip.style.opacity = 1);
  flag.addEventListener('mouseleave', () => tip.style.opacity = 0);

flagsContainer.appendChild(flag);
flagsContainer.appendChild(tip);
tip.style.left = (flag.offsetLeft + flag.offsetWidth / 2) + 'px';
tip.style.transform = 'translateX(-50%)';
}

    // лошади
    const horse = document.createElement('div');
    horse.className = 'horse';
    horse.id = 'horse' + i;
    horse.style.top = 230 - raise - 40 + i * trackStep + 'px';
    horse.style.left = '0px';
    horse.setAttribute('data-points', horsePoints[i]);
    const img = document.createElement('img');
    img.src = horseImages[i];
    img.style.width = horseSizes[i] + 'px';
    horse.appendChild(img);
    race.appendChild(horse);

    // анимация
    setTimeout(() => { horse.style.left = (horsePoints[i] * pixelsPerPoint) + 'px'; }, 500);
  }
}

placeHorses();
</script>
</body>
</html>
